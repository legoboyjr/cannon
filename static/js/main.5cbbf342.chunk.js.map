{"version":3,"sources":["utils/formulas.js","components/Sky.jsx","components/Ground.jsx","components/CannonBase.jsx","components/CannonPipe.jsx","components/CurrentScore.jsx","components/FlyingObjectBase.jsx","components/FlyingObjectTop.jsx","utils/constants.js","components/FlyingObject.jsx","components/StartGame.jsx","components/Title.jsx","components/Login.jsx","components/Rank.jsx","components/Leaderboard.jsx","components/CannonBall.jsx","components/Heart.jsx","components/Canvas.jsx","App.js","actions/index.js","containers/Game.js","reducers/createFlyingObjects.js","reducers/moveCannonBalls.js","reducers/checkCollisions.js","reducers/moveObjects.js","reducers/startGame.js","reducers/shoot.js","reducers/index.js","index.js"],"names":["pathFromBezierCurve","cubicBezierCurve","initialAxis","initialControlPoint","endingControlPoint","endingAxis","concat","x","y","radiansToDegrees","radians","Math","PI","calculateAngle","x1","y1","x2","y2","quotient","atan","degreesToRadian","degrees","calculateNextPosition","angle","divisor","arguments","length","undefined","realAngle","cos","sin","Sky","react_default","a","createElement","style","fill","skyWidth","width","height","Ground","id","data-name","groundWidth","stroke","strokeWidth","CannonBase","props","cannonBaseStyle","d","CannonPipe","cannonPipeStyle","transform","rotation","CurrentScore","filter","fontFamily","fontSize","score","FlyingObjectBase","cx","position","cy","rx","ry","FlyingObjectTop","flyingObjectsStarterPositions","moveVertically","keyframes","_templateObject","Move","styled","g","_templateObject2","FlyingObject","components_FlyingObjectBase","components_FlyingObjectTop","StartGame","button","gameWidth","cursor","onClick","text","textAnchor","Title","textStyle","aliensLineCurve","goHomeLineCurve","Object","objectSpread","xlinkHref","Login","authenticate","Rank","_props$position","rectId","player","rank","clipId","currentPlayer","pictureProperties","href","picture","clipPath","frameProperties","assign","name","maxScore","Leaderboard","leaderboard","sort","prev","next","map","member","index","strokeDasharray","idx","components_Rank","key","components_Login","defaultProps","CannonBall","Heart","heartStyle","leftSide","rightSide","Canvas","viewBox","window","innerWidth","lives","i","gameState","heartPosition","push","components_Heart","preserveAspectRatio","onMouseMove","trackMouse","shoot","dx","dy","stdDeviation","components_Sky","components_Ground","cannonBalls","cannonBall","components_CannonBall","components_CannonPipe","components_CannonBase","components_CurrentScore","kills","started","components_StartGame","startGame","components_Title","components_Leaderboard","signIn","players","flyingObjects","flyingObject","components_FlyingObject","Auth0","domain","clientID","redirectUri","responseType","scope","audience","App","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","socket","_this2","self","auth","playerProfile","sub","loggedIn","io","query","on","leaderboardLoaded","forEach","setInterval","moveObjects","canvasMousePosition","onresize","cnv","document","getElementById","innerHeight","nextProps","emit","event","svg","point","createSVGPoint","clientX","clientY","_point$matrixTransfor","matrixTransform","getScreenCTM","inverse","getCanvasPosition","_this3","components_Canvas","Component","LEADERBOARD_LOADED","LOGGED_IN","MOVE_OBJECTS","SHOOT","START_GAME","Game","connect","state","dispatch","type","mousePosition","createFlyingObjects","now","Date","getTime","_state$gameState","lastObjectCreatedAt","predefinedPosition","floor","random","newFlyingObject","createdAt","toConsumableArray","moveBalls","_cannonBall$position","checkCollisions","flyingDiscs","objectsDestroyed","flyingDisc","currentLifeTime","calculatedPosition","rectA","rectB","checkCollision","cannonBallId","flyingDiscId","action","newState","object","lostLife","cannonBallsDestroyed","flyingDiscsDestroyed","indexOf","reducers_startGame","initialGameState","_action$mousePosition","initialState","reducer","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","containers_Game"],"mappings":"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","file":"static/js/main.5cbbf342.chunk.js","sourcesContent":["export const pathFromBezierCurve = (cubicBezierCurve) => {\r\n    const {\r\n      initialAxis, initialControlPoint, endingControlPoint, endingAxis,\r\n    } = cubicBezierCurve;\r\n    return `\r\n      M${initialAxis.x} ${initialAxis.y}\r\n      c ${initialControlPoint.x} ${initialControlPoint.y}\r\n      ${endingControlPoint.x} ${endingControlPoint.y}\r\n      ${endingAxis.x} ${endingAxis.y}\r\n    `;\r\n  };\r\n\r\n  export const radiansToDegrees = radians => ((radians * 180) / Math.PI);\r\n\r\n// https://math.stackexchange.com/questions/714378/find-the-angle-that-creating-with-y-axis-in-degrees\r\nexport const calculateAngle = (x1, y1, x2, y2) => {\r\n  if (x2 >= 0 && y2 >= 0) {\r\n    return 90;\r\n  } else if (x2 < 0 && y2 >= 0) {\r\n    return -90;\r\n  }\r\n\r\n  const dividend = x2 - x1;\r\n  const divisor = y2 - y1;\r\n  const quotient = dividend / divisor;\r\n  return radiansToDegrees(Math.atan(quotient)) * -1;\r\n};\r\n\r\nexport const getCanvasPosition = (event) => {\r\n    // mouse position on auto-scaling canvas\r\n    // https://stackoverflow.com/a/10298843/1232793\r\n  \r\n    const svg = document.getElementById('aliens-go-home-canvas');\r\n    const point = svg.createSVGPoint();\r\n  \r\n    point.x = event.clientX;\r\n    point.y = event.clientY;\r\n    const { x, y } = point.matrixTransform(svg.getScreenCTM().inverse());\r\n    return {x, y};\r\n  };\r\n\r\n  const degreesToRadian = degrees => ((degrees * Math.PI) / 180);\r\n\r\nexport const calculateNextPosition = (x, y, angle, divisor = 300) => {\r\n  const realAngle = (angle * -1) + 90;\r\n  const stepsX = radiansToDegrees(Math.cos(degreesToRadian(realAngle))) / divisor;\r\n  const stepsY = radiansToDegrees(Math.sin(degreesToRadian(realAngle))) / divisor;\r\n  return {\r\n    x: x +stepsX,\r\n    y: y - stepsY,\r\n  }\r\n};\r\n\r\nexport const checkCollision = (rectA, rectB) => (\r\n  rectA.x1 < rectB.x2 && rectA.x2 > rectB.x1 &&\r\n  rectA.y1 < rectB.y2 && rectA.y2 > rectB.y1\r\n);","import React from 'react';\r\n\r\nconst Sky = () => {\r\n  const skyStyle = {\r\n    fill: '#30abef',\r\n  };\r\n  const skyWidth = 5000;\r\n  const gameHeight = 1200;\r\n  return (\r\n    <rect\r\n      style={skyStyle}\r\n      x={skyWidth / -2}\r\n      y={100 - gameHeight}\r\n      width={skyWidth}\r\n      height={gameHeight}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Sky;","import React from 'react';\r\n\r\nconst Ground = () => {\r\n  const groundStyle = {\r\n    fill: '#59a941',\r\n  };\r\n  const division = {\r\n    stroke: '#458232',\r\n    strokeWidth: '3px',\r\n  };\r\n\r\n  const groundWidth = 5000;\r\n\r\n  return (\r\n    <g id=\"ground\">\r\n      <rect\r\n        id=\"ground-2\"\r\n        data-name=\"ground\"\r\n        style={groundStyle}\r\n        x={groundWidth / -2}\r\n        y={0}\r\n        width={groundWidth}\r\n        height={100}\r\n      />\r\n      <line\r\n        x1={groundWidth / -2}\r\n        y1={0}\r\n        x2={groundWidth / 2}\r\n        y2={0}\r\n        style={division}\r\n      />\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default Ground;","import React from 'react';\r\nimport { pathFromBezierCurve } from '../utils/formulas';\r\n\r\nconst CannonBase = (props) => {\r\n  const cannonBaseStyle = {\r\n    fill: '#a16012',\r\n    stroke: '#75450e',\r\n    strokeWidth: '2px',\r\n  };\r\n\r\n  const baseWith = 80;\r\n  const halfBase = 40;\r\n  const height = 60;\r\n  const negativeHeight = height * -1;\r\n\r\n  const cubicBezierCurve = {\r\n    initialAxis: {\r\n      x: -halfBase,\r\n      y: height,\r\n    },\r\n    initialControlPoint: {\r\n      x: 20,\r\n      y: negativeHeight,\r\n    },\r\n    endingControlPoint: {\r\n      x: 60,\r\n      y: negativeHeight,\r\n    },\r\n    endingAxis: {\r\n      x: baseWith,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <g>\r\n      <path\r\n        style={cannonBaseStyle}\r\n        d={pathFromBezierCurve(cubicBezierCurve)}\r\n      />\r\n      <line\r\n        x1={-halfBase}\r\n        y1={height}\r\n        x2={halfBase}\r\n        y2={height}\r\n        style={cannonBaseStyle}\r\n      />\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default CannonBase;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { pathFromBezierCurve } from '../utils/formulas';\r\n\r\nconst CannonPipe = (props) => {\r\n  const cannonPipeStyle = {\r\n    fill: '#999',\r\n    stroke: '#666',\r\n    strokeWidth: '2px',\r\n  };\r\n  const transform = `rotate(${props.rotation}, 0, 0)`;\r\n\r\n  const muzzleWidth = 40;\r\n  const halfMuzzle = 20;\r\n  const height = 100;\r\n  const yBasis = 70;\r\n\r\n  const cubicBezierCurve = {\r\n    initialAxis: {\r\n      x: -halfMuzzle,\r\n      y: -yBasis,\r\n    },\r\n    initialControlPoint: {\r\n      x: -40,\r\n      y: height * 1.7,\r\n    },\r\n    endingControlPoint: {\r\n      x: 80,\r\n      y: height * 1.7,\r\n    },\r\n    endingAxis: {\r\n      x: muzzleWidth,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <g transform={transform}>\r\n      <path\r\n        style={cannonPipeStyle}\r\n        d={pathFromBezierCurve(cubicBezierCurve)}\r\n      />\r\n      <line\r\n        x1={-halfMuzzle}\r\n        y1={-yBasis}\r\n        x2={halfMuzzle}\r\n        y2={-yBasis}\r\n        style={cannonPipeStyle}\r\n      />\r\n    </g>\r\n  );\r\n};\r\n\r\nCannonPipe.propTypes = {\r\n  rotation: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default CannonPipe;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst CurrentScore = (props) => {\r\n  const scoreStyle = {\r\n    fontFamily: '\"Joti One\", cursive',\r\n    fontSize: 80,\r\n    fill: '#d6d33e',\r\n  };\r\n\r\n  return (\r\n    <g filter=\"url(#shadow)\">\r\n      <text style={scoreStyle} x=\"300\" y=\"80\">\r\n        {props.score}\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nCurrentScore.propTypes = {\r\n  score: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default CurrentScore;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst FlyingObjectBase = (props) => {\r\n  const style = {\r\n    fill: '#979797',\r\n    stroke: '#5c5c5c',\r\n  };\r\n\r\n  return (\r\n    <ellipse\r\n      cx={props.position.x}\r\n      cy={props.position.y}\r\n      rx=\"40\"\r\n      ry=\"10\"\r\n      style={style}\r\n    />\r\n  );\r\n};\r\n\r\nFlyingObjectBase.propTypes = {\r\n  position: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default FlyingObjectBase;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { pathFromBezierCurve } from '../utils/formulas';\r\n\r\nconst FlyingObjectTop = (props) => {\r\n  const style = {\r\n    fill: '#b6b6b6',\r\n    stroke: '#7d7d7d',\r\n  };\r\n\r\n  const baseWith = 40;\r\n  const halfBase = 20;\r\n  const height = 25;\r\n\r\n  const cubicBezierCurve = {\r\n    initialAxis: {\r\n      x: props.position.x - halfBase,\r\n      y: props.position.y,\r\n    },\r\n    initialControlPoint: {\r\n      x: 10,\r\n      y: -height,\r\n    },\r\n    endingControlPoint: {\r\n      x: 30,\r\n      y: -height,\r\n    },\r\n    endingAxis: {\r\n      x: baseWith,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <path\r\n      style={style}\r\n      d={pathFromBezierCurve(cubicBezierCurve)}\r\n    />\r\n  );\r\n};\r\n\r\nFlyingObjectTop.propTypes = {\r\n  position: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default FlyingObjectTop;","// very wide to provide as full screen feeling\r\nexport const skyAndGroundWidth = 5000;\r\nexport const gameWidth = 800;\r\n\r\nexport const createInterval = 1000;\r\n\r\nexport const maxFlyingObjects = 4;\r\n\r\nexport const flyingObjectsStarterYAxis = -1100;\r\n\r\nexport const flyingObjectsStarterPositions = [\r\n  -300,\r\n  -150,\r\n  150,\r\n  300,\r\n];\r\n\r\nexport const gameHeight = 1200;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport FlyingObjectBase from './FlyingObjectBase';\r\nimport FlyingObjectTop from './FlyingObjectTop';\r\nimport { gameHeight } from '../utils/constants';\r\n\r\nconst moveVertically = keyframes`\r\n  0% {\r\n    transform: translateY(0);\r\n  }\r\n  100% {\r\n    transform: translateY(${gameHeight}px);\r\n  }\r\n`;\r\n\r\nconst Move = styled.g`\r\n  animation: ${moveVertically} 4s linear;\r\n`;\r\n\r\nconst FlyingObject = props => (\r\n  <Move>\r\n    <FlyingObjectBase position={props.position} />\r\n    <FlyingObjectTop position={props.position} />\r\n  </Move>\r\n);\r\n\r\nFlyingObject.propTypes = {\r\n  position: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default FlyingObject;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { gameWidth } from '../utils/constants';\r\n\r\nconst StartGame = (props) => {\r\n  const button = {\r\n    x: gameWidth / -2, // half width\r\n    y: -280, // minus means up (above 0)\r\n    width: gameWidth,\r\n    height: 200,\r\n    rx: 10, // border radius\r\n    ry: 10, // border radius\r\n    style: {\r\n      fill: 'transparent',\r\n      cursor: 'pointer',\r\n    },\r\n    onClick: props.onClick,\r\n  };\r\n\r\n  const text = {\r\n    textAnchor: 'middle', // center\r\n    x: 0, // center relative to X axis\r\n    y: -150, // 150 up\r\n    style: {\r\n      fontFamily: '\"Joti One\", cursive',\r\n      fontSize: 60,\r\n      fill: '#e3e3e3',\r\n      cursor: 'pointer',\r\n    },\r\n    onClick: props.onClick,\r\n  };\r\n  return (\r\n    <g filter=\"url(#shadow)\">\r\n      <rect {...button} />\r\n      <text {...text}>\r\n        Tap To Start!\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nStartGame.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default StartGame;","import React from 'react';\r\nimport { pathFromBezierCurve } from '../utils/formulas';\r\n\r\nconst Title = () => {\r\n  const textStyle = {\r\n    fontFamily: '\"Joti One\", cursive',\r\n    fontSize: 120,\r\n    fill: '#cbca62',\r\n  };\r\n\r\n  const aliensLineCurve = {\r\n    initialAxis: {\r\n      x: -190,\r\n      y: -950,\r\n    },\r\n    initialControlPoint: {\r\n      x: 95,\r\n      y: -50,\r\n    },\r\n    endingControlPoint: {\r\n      x: 285,\r\n      y: -50,\r\n    },\r\n    endingAxis: {\r\n      x: 380,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  const goHomeLineCurve = {\r\n    ...aliensLineCurve,\r\n    initialAxis: {\r\n      x: -250,\r\n      y: -780,\r\n    },\r\n    initialControlPoint: {\r\n      x: 125,\r\n      y: -90,\r\n    },\r\n    endingControlPoint: {\r\n      x: 375,\r\n      y: -90,\r\n    },\r\n    endingAxis: {\r\n      x: 500,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <g filter=\"url(#shadow)\">\r\n      <defs>\r\n        <path\r\n          id=\"AliensPath\"\r\n          d={pathFromBezierCurve(aliensLineCurve)}\r\n        />\r\n        <path\r\n          id=\"GoHomePath\"\r\n          d={pathFromBezierCurve(goHomeLineCurve)}\r\n        />\r\n      </defs>\r\n      <text {...textStyle}>\r\n        <textPath xlinkHref=\"#AliensPath\">\r\n          Aliens,\r\n        </textPath>\r\n      </text>\r\n      <text {...textStyle}>\r\n        <textPath xlinkHref=\"#GoHomePath\">\r\n          Go Home!\r\n        </textPath>\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default Title;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Login = (props) => {\r\n  const button = {\r\n    x: -300, // half width\r\n    y: -600, // minus means up (above 0)\r\n    width: 600,\r\n    height: 300,\r\n    style: {\r\n      fill: 'transparent',\r\n      cursor: 'pointer',\r\n    },\r\n    onClick: props.authenticate,\r\n  };\r\n\r\n  const text = {\r\n    textAnchor: 'middle', // center\r\n    x: 0, // center relative to X axis\r\n    y: -440, // 440 up\r\n    style: {\r\n      fontFamily: '\"Joti One\", cursive',\r\n      fontSize: 45,\r\n      fill: '#e3e3e3',\r\n      cursor: 'pointer',\r\n    },\r\n    onClick: props.authenticate,\r\n  };\r\n\r\n  return (\r\n    <g filter=\"url(#shadow)\">\r\n      <rect {...button} />\r\n      <text {...text}>\r\n        Login to participate!\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  authenticate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Rank = (props) => {\r\n  const { x, y } = props.position;\r\n\r\n  const rectId = 'rect' + props.player.rank;\r\n  const clipId = 'clip' + props.player.rank;\r\n\r\n  const pictureStyle = {\r\n    height: 60,\r\n    width: 60,\r\n  };\r\n\r\n  const textStyle = {\r\n    fontFamily: '\"Joti One\", cursive',\r\n    fontSize: 35,\r\n    fill: '#e3e3e3',\r\n    cursor: 'default',\r\n  };\r\n\r\n  if (props.player.currentPlayer) textStyle.fill = '#e9ea64';\r\n\r\n  const pictureProperties = {\r\n    style: pictureStyle,\r\n    x: x - 140,\r\n    y: y - 40,\r\n    href: props.player.picture,\r\n    clipPath: `url(#${clipId})`,\r\n  };\r\n\r\n  const frameProperties = {\r\n    width: 55,\r\n    height: 55,\r\n    rx: 30,\r\n    x: pictureProperties.x,\r\n    y: pictureProperties.y,\r\n  };\r\n\r\n  return (\r\n    <g>\r\n      <defs>\r\n        <rect id={rectId} {...frameProperties} />\r\n        <clipPath id={clipId}>\r\n          <use xlinkHref={'#' + rectId} />\r\n        </clipPath>\r\n      </defs>\r\n      <use xlinkHref={'#' + rectId} strokeWidth=\"2\" stroke=\"black\" />\r\n      <text filter=\"url(#shadow)\" style={textStyle} x={x - 200} y={y}>{props.player.rank}º</text>\r\n      <image {...pictureProperties} />\r\n      <text filter=\"url(#shadow)\" style={textStyle} x={x - 60} y={y}>{props.player.name}</text>\r\n      <text filter=\"url(#shadow)\" style={textStyle} x={x + 350} y={y}>{props.player.maxScore}</text>\r\n    </g>\r\n  );\r\n};\r\n\r\nRank.propTypes = {\r\n  player: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    maxScore: PropTypes.number.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    picture: PropTypes.string.isRequired,\r\n    rank: PropTypes.number.isRequired,\r\n    currentPlayer: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n  position: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default Rank;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Login from './Login';\r\nimport Rank from \"./Rank\";\r\n\r\nconst Leaderboard = (props) => {\r\n  const style = {\r\n    fill: 'transparent',\r\n    stroke: 'black',\r\n    strokeDasharray: '15',\r\n  };\r\n\r\n  const leaderboardTitle = {\r\n    fontFamily: '\"Joti One\", cursive',\r\n    fontSize: 50,\r\n    fill: '#88da85',\r\n    cursor: 'default',\r\n  };\r\n\r\n  let leaderboard = props.leaderboard || [];\r\n  leaderboard = leaderboard.sort((prev, next) => {\r\n    if (prev.maxScore === next.maxScore) {\r\n      return prev.name <= next.name ? 1 : -1;\r\n    }\r\n    return prev.maxScore < next.maxScore ? 1 : -1;\r\n  }).map((member, index) => ({\r\n    ...member,\r\n    rank: index + 1,\r\n    currentPlayer: member.id === props.currentPlayer.id,\r\n  })).filter((member, index) => {\r\n    if (index < 3 || member.id === props.currentPlayer.id) return member;\r\n    return null;\r\n  });\r\n\r\n  return (\r\n    <g>\r\n      <text filter=\"url(#shadow)\" style={leaderboardTitle} x=\"-150\" y=\"-630\">Leaderboard</text>\r\n      <rect style={style} x=\"-350\" y=\"-600\" width=\"700\" height=\"330\" />\r\n      {\r\n        props.currentPlayer && leaderboard.map((player, idx) => {\r\n          const position = {\r\n            x: -100,\r\n            y: -530 + (70 * idx)\r\n          };\r\n          return <Rank key={player.id} player={player} position={position}/>\r\n        })\r\n      }\r\n      {\r\n        ! props.currentPlayer && <Login authenticate={props.authenticate} />\r\n      }\r\n    </g>\r\n  );\r\n};\r\n\r\nLeaderboard.propTypes = {\r\n  currentPlayer: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    maxScore: PropTypes.number.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    picture: PropTypes.string.isRequired,\r\n  }),\r\n  authenticate: PropTypes.func.isRequired,\r\n  leaderboard: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    maxScore: PropTypes.number.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    picture: PropTypes.string.isRequired,\r\n    ranking: PropTypes.number,\r\n  })),\r\n};\r\n\r\nLeaderboard.defaultProps = {\r\n  currentPlayer: null,\r\n  leaderboard: null,\r\n};\r\n\r\nexport default Leaderboard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst CannonBall = (props) => {\r\n  const ballStyle = {\r\n    fill: '#777',\r\n    stroke: '#444',\r\n    strokeWidth: '2px',\r\n  };\r\n  return (\r\n    <ellipse\r\n      style={ballStyle}\r\n      cx={props.position.x}\r\n      cy={props.position.y}\r\n      rx=\"16\"\r\n      ry=\"16\"\r\n    />\r\n  );\r\n};\r\n\r\nCannonBall.propTypes = {\r\n  position: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default CannonBall;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { pathFromBezierCurve } from '../utils/formulas';\r\n\r\nconst Heart = (props) => {\r\n  const heartStyle = {\r\n    fill: '#da0d15',\r\n    stroke: '#a51708',\r\n    strokeWidth: '2px',\r\n  };\r\n\r\n  const leftSide = {\r\n    initialAxis: {\r\n      x: props.position.x,\r\n      y: props.position.y,\r\n    },\r\n    initialControlPoint: {\r\n      x: -20,\r\n      y: -20,\r\n    },\r\n    endingControlPoint: {\r\n      x: -40,\r\n      y: 10,\r\n    },\r\n    endingAxis: {\r\n      x: 0,\r\n      y: 40,\r\n    },\r\n  };\r\n\r\n  const rightSide = {\r\n    initialAxis: {\r\n      x: props.position.x,\r\n      y: props.position.y,\r\n    },\r\n    initialControlPoint: {\r\n      x: 20,\r\n      y: -20,\r\n    },\r\n    endingControlPoint: {\r\n      x: 40,\r\n      y: 10,\r\n    },\r\n    endingAxis: {\r\n      x: 0,\r\n      y: 40,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <g filter=\"url(#shadow)\">\r\n      <path\r\n        style={heartStyle}\r\n        d={pathFromBezierCurve(leftSide)}\r\n      />\r\n      <path\r\n        style={heartStyle}\r\n        d={pathFromBezierCurve(rightSide)}\r\n      />\r\n    </g>\r\n  );\r\n};\r\n\r\nHeart.propTypes = {\r\n  position: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default Heart;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Sky from './Sky';\r\nimport Ground from './Ground';\r\nimport CannonBase from './CannonBase';\r\nimport CannonPipe from './CannonPipe';\r\nimport CurrentScore from './CurrentScore'\r\nimport FlyingObject from './FlyingObject';\r\nimport StartGame from './StartGame';\r\nimport Title from './Title';\r\nimport Leaderboard from './Leaderboard';\r\nimport { signIn } from 'auth0-web';\r\nimport CannonBall from './CannonBall';\r\nimport Heart from './Heart';\r\n\r\nconst Canvas = (props) => {\r\n  const gameHeight = 1200;\r\n  const viewBox = [window.innerWidth / -2, 100 - gameHeight, window.innerWidth, gameHeight];\r\n  const leaderboard = [\r\n    { id: 'd4', maxScore: 82, name: 'Ado Kukic', picture: 'https://twitter.com/KukicAdo/profile_image', },\r\n    { id: 'a1', maxScore: 235, name: 'Bruno Krebs', picture: 'https://twitter.com/brunoskrebs/profile_image', },\r\n    { id: 'c3', maxScore: 99, name: 'Diego Poza', picture: 'https://twitter.com/diegopoza/profile_image', },\r\n    { id: 'b2', maxScore: 129, name: 'Jeana Tahnk', picture: 'https://twitter.com/jeanatahnk/profile_image', },\r\n    { id: 'e5', maxScore: 34, name: 'Jenny Obrien', picture: 'https://twitter.com/jenny_obrien/profile_image', },\r\n    { id: 'f6', maxScore: 153, name: 'Kim Maida', picture: 'https://twitter.com/KimMaida/profile_image', },\r\n    { id: 'g7', maxScore: 55, name: 'Luke Oliff', picture: 'https://twitter.com/mroliff/profile_image', },\r\n    { id: 'h8', maxScore: 146, name: 'Sebastián Peyrott', picture: 'https://twitter.com/speyrott/profile_image', },\r\n  ];\r\n\r\n  const lives = [];\r\n  for (let i = 0; i < props.gameState.lives; i++) {\r\n    const heartPosition = {\r\n      x: -180 - (i * 70),\r\n      y: 35\r\n    };\r\n    lives.push(<Heart key={i} position={heartPosition}/>);\r\n  }\r\n\r\n  return (\r\n    <svg\r\n      id=\"aliens-go-home-canvas\"\r\n      preserveAspectRatio=\"xMaxYMax none\"\r\n      onMouseMove={props.trackMouse}\r\n      viewBox={viewBox}\r\n      onClick={props.shoot}\r\n    >\r\n      <defs>\r\n        <filter id=\"shadow\">\r\n          <feDropShadow dx=\"1\" dy=\"1\" stdDeviation=\"2\" />\r\n        </filter>\r\n      </defs>\r\n      <Sky />\r\n      <Ground />\r\n      {props.gameState.cannonBalls.map(cannonBall => (\r\n        <CannonBall\r\n          key={cannonBall.id}\r\n          position={cannonBall.position}\r\n        />\r\n      ))}\r\n      <CannonPipe rotation={props.angle} />\r\n      <CannonBase />\r\n      <CurrentScore score={props.gameState.kills} />\r\n\r\n      {!props.gameState.started &&\r\n        <g>\r\n          <StartGame onClick={() => props.startGame()} />\r\n          <Title />\r\n          <Leaderboard currentPlayer={props.currentPlayer} authenticate={signIn} leaderboard={props.players} />\r\n        </g>\r\n      }\r\n\r\n      {props.gameState.flyingObjects.map(flyingObject => (\r\n        <FlyingObject\r\n          key={flyingObject.id}\r\n          position={flyingObject.position}\r\n        />\r\n      ))}\r\n      {lives}\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\n\r\nCanvas.propTypes = {\r\n  angle: PropTypes.number.isRequired,\r\n  gameState: PropTypes.shape({\r\n    started: PropTypes.bool.isRequired,\r\n    kills: PropTypes.number.isRequired,\r\n    lives: PropTypes.number.isRequired,\r\n    flyingObjects: PropTypes.arrayOf(PropTypes.shape({\r\n      position: PropTypes.shape({\r\n        x: PropTypes.number.isRequired,\r\n        y: PropTypes.number.isRequired\r\n      }).isRequired,\r\n      id: PropTypes.number.isRequired,\r\n    })).isRequired,\r\n  }).isRequired,\r\n  trackMouse: PropTypes.func.isRequired,\r\n  startGame: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Canvas;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getCanvasPosition } from './utils/formulas';\nimport Canvas from './components/Canvas';\nimport * as Auth0 from 'auth0-web';\nimport io from 'socket.io-client';\n\nAuth0.configure({\n  domain: 'legoboyjr.auth0.com',\n  clientID: 'fgCoS3EnFqFahgakddOTPBjAqYnr9dRs',\n  redirectUri: 'http://localhost:3000/',\n  responseType: 'token id_token',\n  scope: 'openid profile manage:points',\n  audience: 'https://aliens-go-home.digituz.com.br',\n});\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.socket = null;\n    this.currentPlayer = null;\n  }\n\n  componentDidMount() {\n    const self = this;\n\n    Auth0.handleAuthCallback();\n\n    Auth0.subscribe((auth) => {\n      if (!auth) return;\n\n      self.playerProfile = Auth0.getProfile();\n      self.currentPlayer = {\n        id: self.playerProfile.sub,\n        maxScore: 0,\n        name: self.playerProfile.name,\n        picture: self.playerProfile.picture,\n      };\n\n      this.props.loggedIn(self.currentPlayer);\n\n      self.socket = io('http://localhost:3001', {\n        query: `token=${Auth0.getAccessToken()}`,\n      });\n\n      self.socket.on('players', (players) => {\n        this.props.leaderboardLoaded(players);\n        players.forEach((player) => {\n          if (player.id === self.currentPlayer.id) {\n            self.currentPlayer.maxScore = player.maxScore;\n          }\n        });\n      });\n    });\n\n    setInterval(() => {\n      self.props.moveObjects(self.canvasMousePosition);\n    }, 10);\n\n    window.onresize = () => {\n      const cnv = document.getElementById('aliens-go-home-canvas');\n      cnv.style.width = `${window.innerWidth}px`;\n      cnv.style.height = `${window.innerHeight}px`;\n      };\n      window.onresize();\n    }\n\n    componentWillReceiveProps(nextProps) {\n      if (!nextProps.gameState.started && this.props.gameState.started) {\n        if (this.currentPlayer.maxScore < this.props.gameState.kills) {\n          this.socket.emit('new-max-score', {\n            ...this.currentPlayer,\n            maxScore: this.props.gameState.kills,\n          });\n        }\n      }\n    }\n\n  trackMouse(event) {\n    this.canvasMousePosition = getCanvasPosition(event);\n  }\n\n  shoot() {\n    this.props.shoot(this.canvasMousePosition);\n  }\n\n  render() {\n    return (\n      <Canvas\n        angle={this.props.angle}\n        currentPlayer={this.props.currentPlayer}\n        gameState={this.props.gameState}\n        players={this.props.players}\n        startGame={this.props.startGame}\n        trackMouse={event => (this.trackMouse(event))}\n        shoot={this.shoot}\n      />\n    );\n  }\n}\n\n\nApp.propTypes = {\n  angle: PropTypes.number.isRequired,\n  gameState: PropTypes.shape({\n    started: PropTypes.bool.isRequired,\n    kills: PropTypes.number.isRequired,\n    lives: PropTypes.number.isRequired,\n    flyingObjects: PropTypes.arrayOf(PropTypes.shape({\n      position: PropTypes.shape({\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired\n      }).isRequired,\n      id: PropTypes.number.isRequired,\n    })).isRequired,\n  }).isRequired,\n  moveObjects: PropTypes.func.isRequired,\n  startGame: PropTypes.func.isRequired,\n  shoot: PropTypes.func.isRequired,\n};\n\nexport default App;","export const LEADERBOARD_LOADED = 'LEADERBOARD_LOADED';\r\nexport const LOGGED_IN = 'LOGGED_IN';\r\nexport const MOVE_OBJECTS = 'MOVE_OBJECTS';\r\n\r\nexport const SHOOT = 'SHOOT';\r\n\r\nexport const leaderboardLoaded = players => ({\r\n  type: LEADERBOARD_LOADED,\r\n  players,\r\n});\r\n\r\nexport const loggedIn = player => ({\r\n  type: LOGGED_IN,\r\n  player,\r\n});\r\n\r\nexport const moveObjects = mousePosition => ({\r\n  type: MOVE_OBJECTS,\r\n  mousePosition,\r\n});\r\n// ... MOVE_OBJECTS\r\nexport const START_GAME = 'START_GAME';\r\n\r\n// ... moveObjects\r\n\r\nexport const startGame = () => ({\r\n  type: START_GAME,\r\n});\r\n\r\nexport const shoot = (mousePosition) => ({\r\n  type: SHOOT,\r\n  mousePosition,\r\n});","import { connect } from 'react-redux';\r\nimport App from '../App';\r\nimport {leaderboardLoaded, loggedIn, moveObjects, startGame, shoot } from '../actions/index';\r\n\r\nconst mapStateToProps = state => ({\r\n  angle: state.angle,\r\n  gameState: state.gameState,\r\n  currentPlayer: state.currentPlayer,\r\n  players: state.players,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  leaderboardLoaded: (players) => {\r\n    dispatch(leaderboardLoaded(players));\r\n  },\r\n  loggedIn: (player) => {\r\n    dispatch(loggedIn(player));\r\n  },\r\n  moveObjects: (mousePosition) => {\r\n    dispatch(moveObjects(mousePosition));\r\n  },\r\n  startGame: () => {\r\n    dispatch(startGame());\r\n  },\r\n  shoot: (mousePosition) => {\r\n    dispatch(shoot(mousePosition))\r\n  },\r\n});\r\n\r\nconst Game = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(App);\r\n\r\nexport default Game;","import {\r\n    createInterval, flyingObjectsStarterYAxis, maxFlyingObjects,\r\n    flyingObjectsStarterPositions\r\n  } from '../utils/constants';\r\n  \r\n  export default (state) => {\r\n    if ( ! state.gameState.started) return state; // game not running\r\n  \r\n    const now = (new Date()).getTime();\r\n    const { lastObjectCreatedAt, flyingObjects } = state.gameState;\r\n    const createNewObject = (\r\n      now - (lastObjectCreatedAt).getTime() > createInterval &&\r\n      flyingObjects.length < maxFlyingObjects\r\n    );\r\n  \r\n    if ( ! createNewObject) return state; // no need to create objects now\r\n  \r\n    const id = (new Date()).getTime();\r\n    const predefinedPosition = Math.floor(Math.random() * maxFlyingObjects);\r\n    const flyingObjectPosition = flyingObjectsStarterPositions[predefinedPosition];\r\n    const newFlyingObject = {\r\n      position: {\r\n        x: flyingObjectPosition,\r\n        y: flyingObjectsStarterYAxis,\r\n      },\r\n      createdAt: (new Date()).getTime(),\r\n      id,\r\n    };\r\n  \r\n    return {\r\n      ...state,\r\n      gameState: {\r\n        ...state.gameState,\r\n        flyingObjects: [\r\n          ...state.gameState.flyingObjects,\r\n          newFlyingObject\r\n        ],\r\n        lastObjectCreatedAt: new Date(),\r\n      }\r\n    }\r\n  }","import { calculateNextPosition } from '../utils/formulas';\r\n\r\nconst moveBalls = cannonBalls => (\r\n  cannonBalls\r\n    .filter(cannonBall => (\r\n      cannonBall.position.y > -800 && cannonBall.position.x > -500 && cannonBall.position.x < 500\r\n    ))\r\n    .map((cannonBall) => {\r\n      const { x, y } = cannonBall.position;\r\n      const { angle } = cannonBall;\r\n      return {\r\n        ...cannonBall,\r\n        position: calculateNextPosition(x, y, angle, 5),\r\n      };\r\n    })\r\n);\r\n\r\nexport default moveBalls;","import { checkCollision } from '../utils/formulas';\r\nimport { gameHeight } from '../utils/constants';\r\n\r\nconst checkCollisions = (cannonBalls, flyingDiscs) => {\r\n  const objectsDestroyed = [];\r\n  flyingDiscs.forEach((flyingDisc) => {\r\n    const currentLifeTime = (new Date()).getTime() - flyingDisc.createdAt;\r\n    const calculatedPosition = {\r\n      x: flyingDisc.position.x,\r\n      y: flyingDisc.position.y + ((currentLifeTime / 4000) * gameHeight),\r\n    };\r\n    const rectA = {\r\n      x1: calculatedPosition.x - 40,\r\n      y1: calculatedPosition.y - 10,\r\n      x2: calculatedPosition.x + 40,\r\n      y2: calculatedPosition.y + 10,\r\n    };\r\n    cannonBalls.forEach((cannonBall) => {\r\n      const rectB = {\r\n        x1: cannonBall.position.x - 8,\r\n        y1: cannonBall.position.y - 8,\r\n        x2: cannonBall.position.x + 8,\r\n        y2: cannonBall.position.y + 8,\r\n      };\r\n      if (checkCollision(rectA, rectB)) {\r\n        objectsDestroyed.push({\r\n          cannonBallId: cannonBall.id,\r\n          flyingDiscId: flyingDisc.id,\r\n        });\r\n      }\r\n    });\r\n  });\r\n  return objectsDestroyed;\r\n};\r\n\r\nexport default checkCollisions;","import { calculateAngle } from '../utils/formulas';\r\nimport createFlyingObjects from './createFlyingObjects';\r\nimport moveBalls from './moveCannonBalls';\r\nimport checkCollisions from './checkCollisions';\r\n\r\n\r\nfunction moveObjects(state, action) {\r\n  if (!state.gameState.started) return state;\r\n\r\n  let cannonBalls = moveBalls(state.gameState.cannonBalls);\r\n  const mousePosition = action.mousePosition || {\r\n    x: 0,\r\n    y: 0,\r\n  };\r\n  \r\n\r\n  const newState = createFlyingObjects(state);\r\n  \r\n  const now = (new Date()).getTime();\r\n  let flyingObjects = newState.gameState.flyingObjects.filter(object => (\r\n    (now - object.createdAt) < 4000\r\n  ));\r\n\r\n  const lostLife = state.gameState.flyingObjects.length > flyingObjects.length;\r\n  let lives = state.gameState.lives;\r\n  if (lostLife) {\r\n    lives--;\r\n  }\r\n\r\n  const started = lives > 0;\r\n  if (!started) {\r\n    flyingObjects = [];\r\n    cannonBalls = [];\r\n    lives = 3;\r\n  }\r\n\r\n  const { x, y } = mousePosition;\r\n  const angle = calculateAngle(0, 0, x, y);\r\n  const objectsDestroyed = checkCollisions(cannonBalls, flyingObjects);\r\n  const cannonBallsDestroyed = objectsDestroyed.map(object => (object.cannonBallId));\r\n  const flyingDiscsDestroyed = objectsDestroyed.map(object => (object.flyingDiscId));\r\n\r\n  cannonBalls = cannonBalls.filter(cannonBall => (cannonBallsDestroyed.indexOf(cannonBall.id)));\r\n  flyingObjects = flyingObjects.filter(flyingDisc => (flyingDiscsDestroyed.indexOf(flyingDisc.id)));\r\n\r\n  const kills = state.gameState.kills + flyingDiscsDestroyed.length;\r\n\r\n  return {\r\n    ...newState,\r\n    gameState: {\r\n      ...newState.gameState,\r\n      flyingObjects,\r\n      cannonBalls: [...cannonBalls],\r\n      lives,\r\n      started,\r\n      kills,\r\n    },\r\n    angle,\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default moveObjects;","export default (state, initialGameState) => {\r\n    return {\r\n      ...state,\r\n      gameState: {\r\n        ...initialGameState,\r\n        started: true,\r\n      }\r\n    }\r\n  };","import { calculateAngle } from '../utils/formulas';\r\n\r\nfunction shoot(state, action) {\r\n  if (!state.gameState.started) return state;\r\n\r\n  const { cannonBalls } = state.gameState;\r\n\r\n  if (cannonBalls.length === 2) return state;\r\n\r\n  const { x, y } = action.mousePosition;\r\n\r\n  const angle = calculateAngle(0, 0, x, y);\r\n\r\n  const id = (new Date()).getTime();\r\n  const cannonBall = {\r\n    position: { x: 0, y: 0 },\r\n    angle,\r\n    id,\r\n  };\r\n\r\n  return {\r\n    ...state,\r\n    gameState: {\r\n      ...state.gameState,\r\n      cannonBalls: [...cannonBalls, cannonBall],\r\n    }\r\n  };\r\n}\r\n\r\nexport default shoot;","import {LEADERBOARD_LOADED, LOGGED_IN,MOVE_OBJECTS, SHOOT, START_GAME} from '../actions';\r\nimport moveObjects from './moveObjects';\r\nimport startGame from './startGame';\r\nimport shoot from './shoot';\r\n\r\nconst initialGameState = {\r\n  started: false,\r\n  kills: 0,\r\n  lives: 3,\r\n  flyingObjects: [],\r\n  lastObjectCreatedAt: new Date(),\r\n  currentPlayer: null,\r\n  players: null,\r\n  cannonBalls: [],\r\n};\r\n\r\nconst initialState = {\r\n  angle: 45,\r\n  gameState: initialGameState,\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LEADERBOARD_LOADED:\r\n      return {\r\n        ...state,\r\n        players: action.players,\r\n      };\r\n    case LOGGED_IN:\r\n      return {\r\n        ...state,\r\n        currentPlayer: action.player,\r\n      };\r\n    case MOVE_OBJECTS:\r\n      return moveObjects(state, action);\r\n    case START_GAME:\r\n      return startGame(state, initialGameState);\r\n      case SHOOT:\r\n      return shoot(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport './index.css';\nimport Game from './containers/Game';\nimport reducer from './reducers';\n\n/* eslint-disable no-underscore-dangle */\nconst store = createStore(\n    reducer, /* preloadedState, */\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n/* eslint-enable */\n\nReactDOM.render(\n    <Provider store={store}>\n        <Game />\n    </Provider>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}